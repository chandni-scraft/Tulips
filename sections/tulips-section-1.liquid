{% schema %}
{
  "name": "Tulips Section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Tulips"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Section Description",
      "default": "Your trusted source for premium quality personal hygiene products..."
    },
    {
      "type": "image_picker",
      "id": "icon_1",
      "label": "Icon 1"
    },
    {
      "type": "text",
      "id": "label_1",
      "label": "Label 1",
      "default": "Microbiologically Tested"
    },
    {
      "type": "richtext",
      "id": "para1_1",
      "label": "Paragraph 1"
    },
    {
      "type": "image_picker",
      "id": "icon_2",
      "label": "Icon 2"
    },
    {
      "type": "text",
      "id": "label_2",
      "label": "Label 2",
      "default": "GMP Certified"
    },
    {
      "type": "richtext",
      "id": "para1_2",
      "label": "Paragraph 1"
    },
    {
      "type": "image_picker",
      "id": "icon_3",
      "label": "Icon 3"
    },
    {
      "type": "text",
      "id": "label_3",
      "label": "Label 3",
      "default": "Dermatologically Tested"
    },
    {
      "type": "richtext",
      "id": "para1_3",
      "label": "Paragraph 1"
    },
    {
      "type": "richtext",
      "id": "para2_3",
      "label": "Paragraph 2"
    }
  ],
  "presets": [
    {
      "name": "Tulips Section"
    }
  ]
}
{% endschema %}

<div class="tulips-section">
  <h3>{{ section.settings.title }}</h3>
  <p class="description">{{ section.settings.description }}</p>

  <div class="tulips-grid">
    {% for i in (1..3) %}
      {% assign icon_key = 'icon_' | append: i %}
      {% assign label_key = 'label_' | append: i %}
      {% assign para1_key = 'para1_' | append: i %}
      {% assign para2_key = 'para2_' | append: i %}

      <div class="grid-item">
        {% if section.settings[icon_key] %}
          <div class="icon-box">
            {{ section.settings[icon_key]
              | image_url: width: 60, height: 60
              | image_tag: alt: section.settings[label_key], width: 60, height: 60, loading: 'lazy' }}
          </div>
        {% endif %}

        <div class="text-container">
          <p class="grid-text">{{ section.settings[label_key] }}</p>

          {% if section.settings[para1_key] %}
            <p class="grid-para">{{ section.settings[para1_key] }}</p>
          {% endif %}

          {% if section.settings[para2_key] %}
            <p class="grid-para">{{ section.settings[para2_key] }}</p>
          {% endif %}
        </div>
      </div>
    {% endfor %}
  </div>
</div>

<style>
      .tulips-section {
        text-align: center;
        max-width: 100%;
        margin: 50px auto;
        padding: 20px;
        background: {{ settings.colors.background }};
        opacity: 0;
        transform: translateY(30px);
        animation: fadeIn 1s ease-in-out forwards;
      }

    .text-container{
      margin-top:-5%;
    }
      /* Fade-in effect */
      @keyframes fadeIn {
        0% {
          opacity: 0;
          transform: translateY(30px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .description {
        max-width: 1150px;
        margin: 30px auto;
        font-size: 20px;
        line-height: 1.5;
        opacity: 0;
        animation: fadeIn 1.5s ease-in-out forwards 0.3s;
      }

      .tulips-grid {
        display: flex;
        justify-content: space-evenly;
        align-items: center;
        flex-wrap: wrap;
        margin-top: 20px;
        gap: 50px;
      }

      /* Slide-up effect for grid items */
      .grid-item {
        display: flex;
        flex-direction: column;
        align-items: center;

        flex: 1;
        max-width: 300px;
        opacity: 0;
        transform: translateY(20px);
        animation: slideUp 1s ease-in-out forwards;
      }

      @keyframes slideUp {
        0% {
          opacity: 0;
          transform: translateY(20px);
        }
        100% {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Bounce effect for icons */
      .icon-box {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 80px;
        height: 80px;
        border-radius: 20px;
        background: #F0652F;
        box-shadow: 0px 30px 60px rgba(0, 0, 0, 0.15);
        animation: bounce 2s infinite ease-in-out;
      }

      @keyframes bounce {
        0%, 100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-8px);
        }
      }

      /* Icon inside box */
      .icon-box img {
        width: 40px;
        height: 40px;
        object-fit: contain;
      }

      /* Text Styling */
      h3 {
        color: {{ settings.colors.header_text }};
        font-family: 'TT Neoris light';
      }

      p {
        color: {{ settings.colors.secondary_text }};
      }

      .grid-text {
        font-size: 18px;

        letter-spacing: 1px;
        color: {{ settings.colors.primary_text }};
        text-align: center;
        white-space: normal;
        line-height: 1.3;
      }


          @media (max-width: 768px) {
            .description {
        max-width: 1150px;
        margin: 10px auto;}

            .tulips-grid {
                display: grid;
                grid-template-columns: repeat(3, 1fr); /* 3 items per row */
                gap: 15px;
                justify-items: center; /* Ensures items are centered */
                padding: 10px 0;
            }

            .grid-item {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: flex-start; /* Ensures all items align from the top */
                text-align: center;
                min-height: 120px; /* Ensures equal height for all items */
            }

            .icon-box {
                width: 60px;
                height: 60px;
                border-radius: 12px;
                display: flex;
                justify-content: center;
                align-items: center;
                background-color: #F0652F;
                margin-bottom: 8px; /* Adds consistent spacing below the icon */
            }

            .icon-box img {
                width: 30px;
                height: 30px;
            }

            .grid-text {
                font-size: 12px;
                max-width: 100%; /* Prevents overflow */
                text-align: center;
                margin: 0;
            }
        }
</style>
